<!--
 * @Author: lijy
-->
<!--
 * @Author: lijy
-->
- js 引擎遇到一个异步事件后不会一直等待其返回结果，而是会将这个事件挂起，继续执行执行栈中的其他任务。当一个异步事件返回结果后，js 会将这个事件加入与当前执行栈不同的另一个队列，我们称之为事件队列。被放入事件队列不会立刻执行其回调，而是等待当前栈中的所有任务都执行完毕，主线程处于闲置状态时，主线程才会去查找事件队列是否有任务。如果有，主线程会从中取出排在第一位的事件，并把这个事件对应的回调放入执行栈中，然后执行其中的同步代码。重复执行这一系列的行为。也称为事件循环。

--------------------------------------------------

## 宏任务
1. 宏任务所处的队列就是宏任务队列
2. 第一个宏任务队列中只有一个宏任务，执行主线程的 js 代码
3. 宏任务队列可以有多个

- 常见的宏任务：
    - script、setTimeout、setInterval、requestAnimationFrame

## 微任务
1. 微任务所处的队列就是微任务队列
2. 只有一个微任务队列
3. 在上一个宏任务队列执行完毕后，如果有微任务队列就会执行微任务队列中的所有任务

- 常见的微任务：
    - Promise.then、process.nextTick、MutationObserver